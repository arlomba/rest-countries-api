let countriesData=[];const fetchCountries=async()=>{const e=await fetch("https://restcountries.com/v2/all");return await e.json()},transformCountryFields=e=>e.map((e=>{const{name:t,flag:r,population:n,capital:o,region:a,topLevelDomain:c,nativeName:u,alpha3Code:l,subregion:s,languages:d,currencies:i,borders:y}=e,m=c.map((e=>e)).join(" ");return{name:t,flag:r,population:n.toLocaleString(),capital:o||"¯\\_(ツ)_/¯",region:a,tld:m,native:u,alpha3Code:l,subregion:s,languages:d.map((e=>e.name)).join(", "),currencies:i?i.map((e=>e.name)).join(", "):"¯\\_(ツ)_/¯",borders:y}})),borderToName=e=>{if(!e)return;return countriesData.find((t=>t.alpha3Code===e)).name},createBorderTemplate=e=>{const t=document.createElement("button");return t.classList.add("border-2","border-gray-500","shadow","py-2","px-4","dark:border-0","dark:bg-blue-700"),t.textContent=borderToName(e),t.addEventListener("click",(()=>{setCountryDetails(countriesData.find((t=>t.alpha3Code===e)))})),t},setCountryCards=e=>{document.querySelector(".js-country-list").innerHTML="",e.forEach((e=>{const t=document.querySelector(".js-country-card").content.cloneNode(!0);t.querySelector("[data-country-flag]").src=e.flag,t.querySelector("[data-country-flag]").alt=`Flag of ${e.name}`,t.querySelector("[data-country-name]").textContent=e.name,t.querySelector("[data-country-population]").textContent=e.population,t.querySelector("[data-country-region]").textContent=e.region,t.querySelector("[data-country-capital]").textContent=e.capital,t.querySelector("article").addEventListener("click",(()=>{setCountryDetails(e)})),document.querySelector(".js-country-list").appendChild(t)}))},setCountryDetails=e=>{document.querySelector(".js-country-modal").innerHTML="";const t=document.querySelector(".js-country-details").content.cloneNode(!0);t.querySelector(".js-close-modal").addEventListener("click",(()=>{document.querySelector(".js-country-modal").innerHTML=""})),t.querySelector("[data-country-flag]").src=e.flag,t.querySelector("[data-country-flag]").alt=`Flag of ${e.name}`,t.querySelector("[data-country-name]").textContent=e.name,t.querySelector("[data-country-population]").textContent=e.population,t.querySelector("[data-country-region]").textContent=e.region,t.querySelector("[data-country-capital]").textContent=e.capital,t.querySelector("[data-country-native]").textContent=e.native,t.querySelector("[data-country-subregion]").textContent=e.subregion,t.querySelector("[data-country-tld]").textContent=e.tld,t.querySelector("[data-country-languages]").textContent=e.languages,t.querySelector("[data-country-currencies]").textContent=e.currencies;const r=t.querySelector("[data-country-borders]");e.borders?e.borders.forEach((e=>{r.appendChild(createBorderTemplate(e))})):r.textContent="¯\\_(ツ)_/¯",document.querySelector(".js-country-modal").appendChild(t)};document.addEventListener("DOMContentLoaded",(async()=>{const e=await fetchCountries();countriesData=await transformCountryFields(e),setCountryCards(countriesData)})),document.querySelector(".js-search-country").addEventListener("input",(e=>{const t=e.target.value.toLowerCase().trim(),r=countriesData.filter((e=>e.name.toLowerCase().includes(t)));setCountryCards(r)})),document.querySelector(".js-select-region").addEventListener("change",(e=>{const t=e.target.value,r=countriesData.filter((e=>e.region.toLowerCase()===t));setCountryCards(r)})),document.querySelector(".js-toggle-theme").addEventListener("click",(()=>{document.documentElement.classList.toggle("dark")}));
//# sourceMappingURL=index.9adbc3ee.js.map
